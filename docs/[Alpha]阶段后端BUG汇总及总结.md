# [Alpha]阶段后端BUG汇总及总结

| **具体BUG现象**                                              | **BUG原因**                                                  | **是否解决** |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------ |
| 偶尔会出现无法注册的现象                                     | 可能是网络或其他原因，有待进一步探究                         | 否           |
| 多人同时注册时无法注册                                       | 数据库写入冲突，多人同时注册时会同时在数据库中创建account为空的账户，而account要求不能重复 | 是           |
| 修改简历或提交申请时无法提交                                 | 传到后端的email默认值为‘未填写’，不符合邮箱格式，所以无法提交 | 否           |
| 对一个申请多次点击同意后已同意人数还会不断增加，甚至大于所需人数 | 后端在处理同意申请时没有对申请的状态进行检查                 | 是           |
| 已同意人数达到所需人数后帖子仍为未结束状态                   | 后端未将帖子的`ifEnd`字段设为结束                            | 是           |
| 成功发送申请之后个人简历未更新                               | 后端未在数据库中更新个人简历                                 | 是           |
| 修改个人简历不生效                                           | 后端在修改后未调用`save()`方法将结果保存到数据库中           | 是           |
| POST请求传入数据不符合JSON时会抛出异常                       | `json.loads`方法在参数不为JSON字符串时会抛出`JSONDecodeError`异常 | 是           |
| 返回的申请列表未按时间排序                                   | 后端在数据库中获取信息后未进行排序                           | 是           |
| 用户修改账户名后token失效                                    | 后端在token中保存了用户名，修改后用户名后没有更新token       | 是           |
| 无法使用域名访问服务器                                       | 后端没有在配置文件的`ALLOWED_HOSTS`中添加域名                | 是           |
| 无法从前端发来的信息中获取token                              | 后端使用Django从请求中获取头信息`AUTHORIZATION`时要增加`HTTP_`即`request.META.get('HTTP_AUTHORIZATION')` | 是           |
| 无法向后端正常发送POST请求                                   | Django默认会对POST请求进行csrf（跨站请求伪造）验证，需手动关闭 | 是           |
| 部署到服务器后无法并发访问                                   | 使用的django-sslserver库本身存在问题，改用nginx+uwsgi部署后问题解决 | 是           |

